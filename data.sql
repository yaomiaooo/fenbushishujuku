-- =========================
-- 1. 插入医院信息
-- =========================
INSERT INTO hospital (hospital_id, hospital_name, hospital_address, hospital_intro, hospital_phone) VALUES 
('1', '朝晖院区', '浙江省杭州市拱墅区潮王路158号', '朝晖院区作为我省医疗体系的核心枢纽，坐落于繁华的潮王路，拥有半个多世纪的医疗积淀。该院区集临床医疗、预防保健与康复教学于一体，重点设有心血管内科、高级外科手术中心及智能化康复医学科。院区配备了先进的核磁共振成像系统与自动化生化检测流水线，致力于为全校师生及周边社区居民提供全方位、高精准的医疗保障服务，是区域内公认的甲等医疗保障中心。', '0571-88880001'),
('2', '屏峰院区', '浙江省杭州市西湖区留和路288号', '屏峰院区位于如诗如画的留和路，依托屏峰山麓的自然生态优势，致力于打造绿色、生态、智能化的现代医疗空间。作为校区重点医疗保障点，该院区专注于全科门诊、急救快速响应及心理健康疏导工作。院区环境幽雅，诊室布局科学，拥有先进的远程会诊系统，可与朝晖主院区实现数据实时共享与专家异地诊疗。它是屏峰校区数万名师生最坚实的健康屏障，也是校内公共卫生应急体系的核心组成部分。', '0571-88880002');

-- =========================
-- 2. 插入用户账号
-- =========================
INSERT INTO user (user_id, user_phone, user_password, role) VALUES 
-- 普通用户
('U101', '13900000001', '$2a$10$abc123', 'user'),
('U102', '13900000002', '$2a$10$def456', 'user'),
('U103', '13900000003', '$2a$10$ghi789', 'user'),
('U104', '13900000004', '$2a$10$jkl012', 'user'),
-- 医生用户
('D001', '13800000001', '$2a$10$mno345', 'doctor'),
('D002', '13800000002', '$2a$10$pqr678', 'doctor'),
('D003', '13800000003', '$2a$10$stu901', 'doctor'),
('D004', '13800000004', '$2a$10$vwx234', 'doctor'),
('D005', '13800000005', '$2a$10$yza567', 'doctor'),
('D006', '13800000006', '$2a$10$bcd890', 'doctor'),
('D007', '13800000007', '$2a$10$efg123', 'doctor'),
('D008', '13800000008', '$2a$10$hij456', 'doctor'),
-- 管理员
('A001', '11111111111', '$2a$10$klm789', 'admin'),
('A002', '11111111112', '$2a$10$nop012', 'admin');

-- =========================
-- 3. 插入病患档案
-- =========================
INSERT INTO patient (patient_id, patient_idcard, patient_name, patient_gender, patient_birthday, patient_phone) VALUES 
('P001', '33010119900101001X', '张一一', '男', '1990-01-01', '15000000001'),
('P002', '33010119850215002Y', '李二二', '女', '1985-02-15', '15000000002'),
('P003', '33010120151225003Z', '张小三', '男', '2015-12-25', '15000000003'),
('P004', '33010119600308004A', '王四四', '男', '1960-03-08', '15000000004'),
('P005', '33010120180820005B', '李小小', '女', '2018-08-20', '15000000005'),
('P006', '33010119880912006C', '赵六六', '男', '1988-09-12', '15000000006'),
('P007', '33010119750723007D', '钱七七', '女', '1975-07-23', '15000000007'),
('P008', '33010120131105008E', '孙八八', '女', '2013-11-05', '15000000008');

-- =========================
-- 4. 插入用户-病患关联
-- =========================
INSERT INTO user_patient (user_id, patient_id, relation_type) VALUES 
-- 用户 U101 的家庭绑定
('U101', 'P001', '本人'),
('U101', 'P002', '配偶'),
('U101', 'P003', '子女'),
-- 用户 U102 的家庭绑定
('U102', 'P004', '父母'),
('U102', 'P005', '子女'),
-- 用户 U103 的家庭绑定
('U103', 'P006', '本人'),
-- 用户 U104 的家庭绑定
('U104', 'P007', '配偶'),
('U104', 'P008', '子女');

-- =========================
-- 5. 插入科室信息
-- =========================
INSERT INTO department (department_id, hospital_id, department_name, department_intro) VALUES 
-- 朝晖院区 (hospital_id = '1')
('KS001', '1', '心血管内科', '负责心血管疾病的诊治与康复'),
('KS002', '1', '神经外科', '专业开展各类脑部及脊髓手术'),
('KS003', '1', '呼吸内科', '主治各类呼吸系统慢性及急性疾病'),
('KS004', '1', '消化内科', '胃肠道及肝胆胰疾病专业诊疗'),
('KS005', '1', '骨科', '涵盖脊柱、关节及创伤骨科'),
('KS006', '1', '妇产科', '提供高标准围产期保健与妇科治疗'),
('KS007', '1', '儿科', '全方位守护儿童生长发育与疾病治疗'),
('KS008', '1', '眼科', '配备高端设备开展各类眼底及近视手术'),
('KS009', '1', '耳鼻喉科', '诊治耳鼻咽喉及头颈部相关疾病'),
('KS010', '1', '中医科', '传承经典中医理论，开展针灸推拿疗法'),
-- 屏峰院区 (hospital_id = '2')
('KS011', '2', '全科医疗部', '负责校区基础医疗与健康初筛'),
('KS012', '2', '口腔中心', '开展牙齿修复、种植及正畸业务'),
('KS013', '2', '皮肤科', '针对学生常见皮肤疾病提供专业治疗'),
('KS014', '2', '心理咨询室', '提供专业心理疏导与精神卫生支持'),
('KS015', '2', '预防保健科', '负责校区传染病防控与疫苗接种'),
('KS016', '2', '运动医学科', '针对校区体育损伤提供康复指导'),
('KS017', '2', '急诊内科', '24小时响应校区突发医疗需求'),
('KS018', '2', '医学影像科', '提供数字化X射线及超声影像检查'),
('KS019', '2', '健康体检中心', '负责教职工及学生入校体检工作'),
('KS020', '2', '药剂科', '负责全院药品供应管理与用药指导');

-- =========================
-- 6. 插入医生信息
-- =========================
INSERT INTO doctor (doctor_id, user_id, hospital_id, doctor_name, doctor_gender, doctor_idcard, title, doctor_phone, doctor_email, doctor_intro, avatar_url) VALUES 
-- 朝晖院区医生 (hospital_id = '1')
('DOC001', 'D001', '1', '严宏远', '男', '330101197001011234', '首席专家', '13858000001', 'yhy@hospital.com', '心血管内科专家，从医30年，擅长冠心病介入治疗。', '/avatars/yhy.jpg'),
('DOC002', 'D002', '1', '顾清影', '女', '330101197502022345', '主任医师', '13858000002', 'gqy@hospital.com', '神经外科主任，精于脑肿瘤微创手术。', '/avatars/gqy.jpg'),
('DOC003', 'D003', '1', '梁廷轩', '男', '330101198003033456', '副主任医师', '13858000003', 'ltx@hospital.com', '呼吸内科副主任，擅长慢阻肺和哮喘管理。', '/avatars/ltx.jpg'),
('DOC004', 'D004', '1', '苏婉宁', '女', '330101198504044567', '主治医师', '13858000004', 'swn@hospital.com', '消化内科主治医师，擅长胃肠镜诊疗。', '/avatars/swn.jpg'),
-- 屏峰院区医生 (hospital_id = '2')
('DOC005', 'D005', '2', '陈思明', '男', '330101198605055678', '全科主治医师', '13858000005', 'csm@hospital.com', '全科医疗，擅长常见病多发病诊疗。', '/avatars/csm.jpg'),
('DOC006', 'D006', '2', '吴志强', '男', '330101198706066789', '口腔科主任', '13858000006', 'wzq@hospital.com', '口腔正畸与种植专家。', '/avatars/wzq.jpg'),
('DOC007', 'D007', '2', '林晓慧', '女', '330101198807077890', '心理咨询师', '13858000007', 'lxh@hospital.com', '国家二级心理咨询师，擅长压力管理。', '/avatars/lxh.jpg'),
('DOC008', 'D008', '2', '郑建国', '男', '330101198908088901', '急诊科主任', '13858000008', 'zjg@hospital.com', '急诊医学专家，急危重症抢救经验丰富。', '/avatars/zjg.jpg');

-- =========================
-- 7. 插入排班信息
-- =========================
INSERT INTO schedule (schedule_id, doctor_id, hospital_id, work_date, time_slot, total_quota, booked_count) VALUES 
-- 朝晖院区排班 (hospital_id = '1')
('S001', 'DOC001', '1', '2025-12-24', '08:00-10:00', 30, 15),
('S002', 'DOC001', '1', '2025-12-24', '13:30-17:00', 20, 8),
('S003', 'DOC002', '1', '2025-12-24', '08:00-10:00', 15, 5),
('S004', 'DOC003', '1', '2025-12-25', '08:00-10:00', 25, 12),
('S005', 'DOC004', '1', '2025-12-25', '13:30-17:00', 20, 10),
-- 屏峰院区排班 (hospital_id = '2')
('S006', 'DOC005', '2', '2025-12-24', '08:00-10:00', 50, 45),
('S007', 'DOC006', '2', '2025-12-24', '13:30-17:00', 20, 18),
('S008', 'DOC007', '2', '2025-12-25', '08:00-10:00', 30, 10),
('S009', 'DOC008', '2', '2025-12-25', '19:00-21:00', 15, 3),
('S010', 'DOC005', '2', '2025-12-26', '08:00-10:00', 40, 20);

-- =========================
-- 8. 插入预约记录
-- =========================
INSERT INTO appointment (appointment_id, user_id, patient_id, schedule_id, hospital_id, status, created_at) VALUES 
-- 已预约状态
('APP001', 'U101', 'P001', 'S001', '1', 'BOOKED', '2025-12-20 09:30:00'),
('APP002', 'U101', 'P002', 'S006', '2', 'BOOKED', '2025-12-20 10:15:00'),
('APP003', 'U102', 'P004', 'S004', '1', 'BOOKED', '2025-12-21 14:20:00'),
-- 已取消状态
('APP004', 'U103', 'P006', 'S007', '2', 'CANCELLED', '2025-12-19 16:45:00'),
-- 已完成状态
('APP005', 'U104', 'P007', 'S002', '1', 'COMPLETED', '2025-12-18 11:10:00'),
-- 未就诊状态
('APP006', 'U102', 'P005', 'S008', '2', 'NO_SHOW', '2025-12-17 08:50:00'),
-- 更多预约
('APP007', 'U101', 'P003', 'S009', '2', 'BOOKED', '2025-12-22 13:30:00'),
('APP008', 'U104', 'P008', 'S010', '2', 'BOOKED', '2025-12-21 15:45:00');

-- =========================
-- 9. 插入就诊记录
-- =========================
INSERT INTO visit (visit_id, appointment_id, hospital_id, visit_time, diagnosis) VALUES 
-- 已完成预约的就诊记录
('VIS001', 'APP005', '1', '2025-12-24 14:30:00', '急性胃炎，建议清淡饮食，开具奥美拉唑肠溶胶囊'),
('VIS002', 'APP006', '2', '2025-12-25 09:15:00', '过敏性皮炎，外用地奈德乳膏，避免接触过敏原'),
-- 为已预约状态创建的就诊记录（假设就诊完成）
('VIS003', 'APP001', '1', '2025-12-24 08:30:00', '高血压复查，血压控制良好，继续当前治疗方案'),
('VIS004', 'APP003', '1', '2025-12-25 09:45:00', '慢性支气管炎急性发作，开具抗生素和止咳化痰药物');

-- =========================
-- 10. 插入评价记录
-- =========================
INSERT INTO review (review_id, user_id, visit_id, hospital_id, rating, content, review_time) VALUES 
('REV001', 'U104', 'VIS001', '1', 5, '严医生非常专业，诊断准确，用药后症状明显缓解。', '2025-12-24 18:20:00'),
('REV002', 'U102', 'VIS004', '1', 4, '梁医生耐心细致，解释病情很清楚，但等待时间稍长。', '2025-12-25 16:30:00'),
('REV003', 'U101', 'VIS003', '1', 5, '医生讲解详细，服务态度好，环境整洁。', '2025-12-24 12:15:00');

-- =========================
-- 11. 插入系统日志
-- =========================
INSERT INTO audit_log (log_id, operator_user_id, hospital_id, role_type, action, action_time) VALUES 
('LOG001', 'A001', '1', 'admin', '创建新科室:心血管内科', '2025-12-01 08:30:00'),
('LOG002', 'U101', '1', 'user', '预约挂号:严宏远医生2025-12-24 08:00-10:00', '2025-12-20 09:30:00'),
('LOG003', 'D001', '1', 'doctor', '更新排班信息:增加2025-12-25上午班次', '2025-12-15 14:20:00'),
('LOG004', 'U103', '2', 'user', '取消预约:吴志强医生2025-12-24下午', '2025-12-19 16:45:00'),
('LOG005', 'U104', '1', 'user', '提交评价:对严宏远医生的就诊评价', '2025-12-24 18:20:00');






INSERT INTO schedule (schedule_id, doctor_id, hospital_id, work_date, time_slot, total_quota, booked_count) VALUES
-- ===== 2025-01 =====
('S011','DOC001','1','2025-01-07','08:00-10:00',30,12),
('S012','DOC001','1','2025-01-14','13:30-17:00',20, 7),
('S013','DOC002','1','2025-01-08','08:00-10:00',15, 4),
('S014','DOC003','1','2025-01-09','08:00-10:00',25,10),
('S015','DOC004','1','2025-01-15','13:30-17:00',20, 9),
('S016','DOC005','2','2025-01-06','08:00-10:00',50,40),
('S017','DOC006','2','2025-01-13','13:30-17:00',20,16),
('S018','DOC007','2','2025-01-10','08:00-10:00',30, 8),
('S019','DOC008','2','2025-01-20','19:00-21:00',15, 2),
-- ===== 2025-02 =====
('S021','DOC001','1','2025-02-11','08:00-10:00',30,14),
('S022','DOC002','1','2025-02-12','08:00-10:00',15, 6),
('S023','DOC003','1','2025-02-18','13:30-17:00',25,11),
('S024','DOC004','1','2025-02-19','08:00-10:00',20,10),
('S025','DOC005','2','2025-02-10','08:00-10:00',50,42),
('S026','DOC006','2','2025-02-17','13:30-17:00',20,17),
('S027','DOC007','2','2025-02-24','08:00-10:00',30, 9),
('S028','DOC008','2','2025-02-25','19:00-21:00',15, 3),
-- ===== 2025-03 =====
('S031','DOC001','1','2025-03-04','08:00-10:00',30,13),
('S032','DOC002','1','2025-03-05','08:00-10:00',15, 5),
('S033','DOC003','1','2025-03-11','13:30-17:00',25,12),
('S034','DOC004','1','2025-03-12','08:00-10:00',20, 8),
('S035','DOC005','2','2025-03-03','08:00-10:00',50,38),
('S036','DOC006','2','2025-03-10','13:30-17:00',20,15),
('S037','DOC007','2','2025-03-17','08:00-10:00',30,10),
('S038','DOC008','2','2025-03-18','19:00-21:00',15, 1),
-- ===== 2025-06 =====
('S061','DOC001','1','2025-06-03','08:00-10:00',30,15),
('S062','DOC002','1','2025-06-04','08:00-10:00',15, 7),
('S063','DOC003','1','2025-06-10','13:30-17:00',25,13),
('S064','DOC004','1','2025-06-11','08:00-10:00',20, 9),
('S065','DOC005','2','2025-06-09','08:00-10:00',50,45),
('S066','DOC006','2','2025-06-16','13:30-17:00',20,18),
('S067','DOC007','2','2025-06-23','08:00-10:00',30,11),
('S068','DOC008','2','2025-06-24','19:00-21:00',15, 4),
-- ===== 2025-07 =====
('S071','DOC001','1','2025-07-08','08:00-10:00',30,11),
('S072','DOC002','1','2025-07-09','08:00-10:00',15, 3),
('S073','DOC003','1','2025-07-15','13:30-17:00',25,10),
('S074','DOC004','1','2025-07-16','08:00-10:00',20, 7),
('S075','DOC005','2','2025-07-07','08:00-10:00',50,41),
('S076','DOC006','2','2025-07-14','13:30-17:00',20,16),
('S077','DOC007','2','2025-07-21','08:00-10:00',30, 9),
('S078','DOC008','2','2025-07-22','19:00-21:00',15, 2),
-- ===== 2025-08 =====
('S081','DOC001','1','2025-08-05','08:00-10:00',30,12),
('S082','DOC002','1','2025-08-06','08:00-10:00',15, 5),
('S083','DOC003','1','2025-08-12','13:30-17:00',25,11),
('S084','DOC004','1','2025-08-13','08:00-10:00',20, 8),
('S085','DOC005','2','2025-08-11','08:00-10:00',50,43),
('S086','DOC006','2','2025-08-18','13:30-17:00',20,17),
('S087','DOC007','2','2025-08-25','08:00-10:00',30,10),
('S088','DOC008','2','2025-08-26','19:00-21:00',15, 3),
-- ===== 2025-09 =====
('S091','DOC001','1','2025-09-02','08:00-10:00',30,14),
('S092','DOC002','1','2025-09-03','08:00-10:00',15, 6),
('S093','DOC003','1','2025-09-09','13:30-17:00',25,12),
('S094','DOC004','1','2025-09-10','08:00-10:00',20, 9),
('S095','DOC005','2','2025-09-08','08:00-10:00',50,39),
('S096','DOC006','2','2025-09-15','13:30-17:00',20,15),
('S097','DOC007','2','2025-09-22','08:00-10:00',30, 8),
('S098','DOC008','2','2025-09-23','19:00-21:00',15, 1),
-- ===== 2025-10 =====
('S101','DOC001','1','2025-10-07','08:00-10:00',30,13),
('S102','DOC002','1','2025-10-08','08:00-10:00',15, 4),
('S103','DOC003','1','2025-10-14','13:30-17:00',25,10),
('S104','DOC004','1','2025-10-15','08:00-10:00',20, 7),
('S105','DOC005','2','2025-10-13','08:00-10:00',50,40),
('S106','DOC006','2','2025-10-20','13:30-17:00',20,14),
('S107','DOC007','2','2025-10-27','08:00-10:00',30, 9),
('S108','DOC008','2','2025-10-28','19:00-21:00',15, 2),
-- ===== 2025-11 =====
('S111','DOC001','1','2025-11-04','08:00-10:00',30,15),
('S112','DOC002','1','2025-11-05','08:00-10:00',15, 5),
('S113','DOC003','1','2025-11-11','13:30-17:00',25,11),
('S114','DOC004','1','2025-11-12','08:00-10:00',20, 8),
('S115','DOC005','2','2025-11-10','08:00-10:00',50,42),
('S116','DOC006','2','2025-11-17','13:30-17:00',20,16),
('S117','DOC007','2','2025-11-24','08:00-10:00',30,10),
('S118','DOC008','2','2025-11-25','19:00-21:00',15, 3);

-- =========================================================
-- 2025 年其它月份预约（appointment）
-- 每个排班随机取 1~2 条预约，状态混合 BOOKED / CANCELLED / COMPLETED / NO_SHOW
-- =========================================================
INSERT INTO appointment (appointment_id, user_id, patient_id, schedule_id, hospital_id, status, created_at) VALUES
-- 1 月
('APP011','U101','P001','S011','1','BOOKED',   '2025-01-01 10:00:00'),
('APP012','U102','P004','S014','1','COMPLETED','2025-01-02 09:30:00'),
('APP013','U103','P006','S017','2','CANCELLED','2025-01-03 16:00:00'),
('APP014','U104','P007','S018','2','BOOKED',   '2025-01-04 11:20:00'),
-- 2 月
('APP021','U101','P002','S021','1','BOOKED',   '2025-02-01 14:10:00'),
('APP022','U102','P005','S025','2','NO_SHOW',  '2025-02-02 08:40:00'),
('APP023','U104','P008','S027','2','COMPLETED','2025-02-03 15:30:00'),
-- 3 月
('APP031','U101','P003','S031','1','BOOKED',   '2025-03-01 13:50:00'),
('APP032','U103','P006','S035','2','CANCELLED','2025-03-02 17:00:00'),
('APP033','U104','P007','S037','2','BOOKED',   '2025-03-03 10:10:00'),
-- 6 月
('APP061','U101','P001','S061','1','COMPLETED','2025-06-01 09:00:00'),
('APP062','U102','P004','S063','1','BOOKED',   '2025-06-02 11:30:00'),
('APP063','U104','P008','S066','2','NO_SHOW',  '2025-06-03 12:40:00'),
-- 7 月
('APP071','U101','P002','S071','1','BOOKED',   '2025-07-01 10:20:00'),
('APP072','U103','P006','S075','2','CANCELLED','2025-07-02 16:30:00'),
('APP073','U104','P007','S077','2','COMPLETED','2025-07-03 14:50:00'),
-- 8 月
('APP081','U102','P005','S085','2','BOOKED',   '2025-08-01 08:30:00'),
('APP082','U104','P008','S087','2','NO_SHOW',  '2025-08-02 09:40:00'),
-- 9 月
('APP091','U101','P003','S091','1','COMPLETED','2025-09-01 15:00:00'),
('APP092','U103','P006','S095','2','CANCELLED','2025-09-02 17:10:00'),
('APP093','U104','P007','S097','2','BOOKED',   '2025-09-03 11:00:00'),
-- 10 月
('APP101','U101','P001','S101','1','BOOKED',   '2025-10-01 10:30:00'),
('APP102','U102','P004','S103','1','NO_SHOW',  '2025-10-02 13:20:00'),
('APP103','U104','P008','S106','2','COMPLETED','2025-10-03 16:40:00'),
-- 11 月
('APP111','U101','P002','S111','1','BOOKED',   '2025-11-01 09:50:00'),
('APP112','U103','P006','S115','2','CANCELLED','2025-11-02 15:10:00'),
('APP113','U104','P007','S117','2','BOOKED',   '2025-11-03 12:30:00');

-- =========================================================
-- 2025 年其它月份就诊记录（visit）
-- 仅对已 COMPLETED 或模拟已就诊的预约生成
-- =========================================================
INSERT INTO visit (visit_id, appointment_id, hospital_id, visit_time, diagnosis) VALUES
('VIS011','APP012','1','2025-01-07 09:15:00','慢性咽炎，建议多饮水，开具复方甘草片'),
('VIS021','APP023','2','2025-02-11 08:40:00','轻度焦虑失眠，心理疏导+耳穴压豆治疗'),
('VIS031','APP033','2','2025-03-10 10:20:00','运动扭伤，RICE 原则，外用扶他林'),
('VIS061','APP061','1','2025-06-03 08:30:00','高血压复诊，调整降压药剂量'),
('VIS071','APP073','2','2025-07-24 09:00:00','急性胃肠炎，补液+口服蒙脱石散'),
('VIS081','APP081','2','2025-08-11 08:50:00','智齿冠周炎，局部冲洗+抗生素'),
('VIS091','APP091','1','2025-09-02 14:10:00','儿童过敏性鼻炎，开具氯雷他定糖浆'),
('VIS101','APP103','2','2025-10-20 13:30:00','腰肌劳损，理疗+功能锻炼指导'),
('VIS111','APP113','2','2025-11-24 10:10:00','期末压力性头痛，放松训练+穴位按摩');
